# Orbit React Native Components

Component library compatible with Expo/React Native projects as well as React Native Web.

> This project is very much WIP, be careful!

### Use in your project

1. Add it to your project:

```sh
yarn add @kiwicom/orbit-react-native
```

2. Import the `Roboto` font (`Roboto-Regular`, `Roboto-RegularItalic`, `Roboto-Medium`, `Roboto-MediumItalic`, `Roboto-Bold`, `Roboto-BoldItalic`) to your project.

Also, make sure to import the `orbit-icons` font, which you can find here: https://orbit.kiwi/visual-style/icons/

How to do it in Expo: https://docs.expo.io/versions/latest/guides/using-custom-fonts/

> Make sure that the fonts are loaded, before you start using any ORN components!

3. _(optional)_ If you want to use another font (eg: `CircularPro`), make sure that the appropriate weights and styles are imported in your environment, and the theme is defined on the app level:

```jsx
import { ThemeProvider, defaultTheme } from '@kiwicom/orbit-react-native';

function MyApp() {
  return (
    <ThemeProvider
      theme={{
        ...defaultTheme,
        fontFamily: {
          '400-normal': 'CircularPro-Book',
          '400-italic': 'CircularPro-BookItalic',
          '500-normal': 'CircularPro-Medium',
          '500-italic': 'CircularPro-MediumItalic',
          '700-normal': 'CircularPro-Bold',

          // Map bold & italic text to be just bold for readability
          '700-italic': 'CircularPro-Bold',
        },
      }}
    >
      {/* Your code using CircularPro goes here */}
    </ThemeProvider>
  );
}
```

4. Use ORN in your project:

```jsx
import { SomeComponent } from '@kiwicom/orbit-react-native';

function MyComponent() {
  return (
    <SomeComponent title="Cool" onPress={pressHandler}>
      Cool component
    </SomeComponent>
  );
}
```

## Notes for ORN Developers

### Component directory/file structure

- In the `src` folder, there should be a single directory for each component.
  - Folders for components are `UpperCamelCase`,
  - Folders for everything else are `lowercase-with-dashes`,
  - Component names are `UpperCamelCase`.
- In a component's folder, the main file should be `index.js` for each component.
  - The main file for each component should always have a named export which corresponds to the component name.
  - Test files should be named the same as the exported name of the component they are testing.
  - Files that export components should be `UpperCamelCase`,

```
orbit-react-native/src/
├── index.js                         # All component are re-exported here (by hand)
├── Component/                       # Single Component folder
│   ├── __tests__/                   # Jest unit tests go here
│   │   └── Component.test.js        # Test file for the component
│   ├── index.js                     # Main file of the Component component, exported as { Component }
│   └── componentHelper.js           # Helper file used by the Component
└── ComponentGroup/                  # Component folder of the ComponentGroup component
    ├── index.js                     # Main file of the ComponentGroup component, exported as  { ComponentGroup }
    └── ComponentGroupInner.js       # Helper component used by the Component
```

### Auto-generating files

Some components require files to be generated based on some external data, eg: list of icons.

We have a simple mechanism to help with the generation, just run:

```sh
yarn workspace @kiwicom/orbit-react-native generate
```

What this script does, is the following:

- It finds all folders named `__templates__` within `src/`
- It imports them, expecting the following to be exported:

```
{
  output: string /* path relative to package root */,
  input?: string /* path relative to package root */,
  generate: (
    anythingThatInputExports,
    HEADER /* block comment to be inserted at the top of each generated file */
  ) => string
}
```

- It will then `require()` whatever is in `input` and feed it to `generate()`
- It will take the output of `generate()` and write it to `output`

#### Rules about generator files

- All template generator files should:
  - be inside a `__templates__` folder,
  - be named `*.template.js`,
  - pass Flow and ESLint checks
    - but use Flow Comment Types to avoid problems with running in NodeJS.

#### Rules about generated files

- All generated files should:
  - be named `*.generated.js`
  - have a block comment at the top of the file explaining
    - that it's been generated,
    - which command generated it.
  - pass ESLint and Flow checks without ignores,
  - be checked in to Git.
