// @flow

import React from 'react';
import { Platform } from 'react-native';

import { PlatformText } from './PlatformText';
import { useStyles } from '../styles';
import { testAttribute } from '../common/testUtils';
import type { TextProps } from './Text.types';

export function Text({
  type = 'primary',
  size = 'normal',
  weight = 'normal',
  align = 'left',
  spaceAfter = 'none',
  uppercase = false,
  italic = false,
  id,
  dataTest,
  children,
  as }
: TextProps) {
  const styles = useStyles({
    margin: 'none',
    base: `text-${weight === 'bold' ? 'bold' : 'normal'}-${italic ? 'italic' : 'normal'}`,
    colorText: type,
    fontSizeText: size,
    align,
    spaceAfter,
    uppercase });

  const nextProps = {
    children,
    style: styles,
    nativeID: id,
    ...testAttribute(dataTest),
    ...Platform.select({ web: { as } }) };


  return <PlatformText {...nextProps} />;
}

// Display name for Storybook
Text.displayName = 'Text';